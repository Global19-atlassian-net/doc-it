<?xml version="1.0" encoding="iso-8859-1"?>
<!-- EN-Revision: 1.36 Maintainer: cortesi  Status: ready -->
 <reference id="ref.dir">
  <title>Funzioni per le directory</title>
  <titleabbrev>Directory</titleabbrev>

  <partintro>
  
   <simpara>
    Per funzioni correlate, quali <function>dirname</function>,  
    <function>is_dir</function>, <function>mkdir</function> e 
    <function>rmdir</function>, vedere la sezione 
    <link linkend="ref.filesystem">Filesystem</link>.
   </simpara>
  
  </partintro>
  
  <refentry id="function.chroot">
   <refnamediv>
    <refname>chroot</refname>
    <refpurpose>cambia la direcory di root</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>bool</type><methodname>chroot</methodname>
      <methodparam><type>string</type><parameter>directory</parameter></methodparam>
     </methodsynopsis>
    <para>
     Cambia la directory di root del processo in esecuzione in 
     <parameter>directory</parameter>. Restituisce &false; se non in grado
     di cambiare la directory root, altrimenti &true;.
    </para>
    <note>
     <para>
      Non &egrave; intelligente usare questa funzione quando ci si trova nell'ambiente di lavoro
      di un webserver, poich&eacute; non &egrave; possibile resettare la directory root
      nuovamente a / alla fine della richiesta. Questa funzione
      si comporta correttamente solo quando eseguita come CGI.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.chdir">
   <refnamediv>
    <refname>chdir</refname>
    <refpurpose>cambia directory</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>bool</type><methodname>chdir</methodname>
      <methodparam><type>string</type><parameter>directory</parameter></methodparam>
     </methodsynopsis>
    <para>
     Cambia la directory in uso da parte del PHP in 
     <parameter>directory</parameter>.  Restituisce &false; se non in grado di
     cambiare directory, &true; altrimenti.
    </para>
   </refsect1>
  </refentry>

  <refentry id="class.dir">
   <refnamediv>
    <refname>dir</refname>
    <refpurpose>classe directory</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
    <classsynopsis>
     <ooclass><classname>dir</classname></ooclass>
     <constructorsynopsis>
      <methodname>dir</methodname>
      <methodparam><type>string</type><parameter>directory</parameter></methodparam>
     </constructorsynopsis>
     <fieldsynopsis>
      <type>string</type><varname>path</varname>
     </fieldsynopsis>
     <methodsynopsis><type>string</type><methodname>read</methodname><void/></methodsynopsis>
     <methodsynopsis><type>void</type><methodname>rewind</methodname><void/></methodsynopsis>
     <methodsynopsis><type>void</type><methodname>close</methodname><void/></methodsynopsis>
    </classsynopsis>
    <para>
     Un meccanismo pseudo orientato agli oggetti per leggere una directory. La
     <parameter>directory</parameter> data è aperta. Due propriet&agrave;
     sono disponibili nonappena la directory è stata aperta. La
     propriet&agrave; handle pu&ograve; essere usata in congiunzione ad altre funzioni relative alle directory, quali
     <function>readdir</function>, <function>rewinddir</function> e
     <function>closedir</function>. La proprietà path è impostata alla
     directory che è stata aperta. Sono disponibili tre metodi:
     read (leggi), rewind (riavvolgi) e close (chiudi).
    </para>
    <para>
     Fare attenzione al modo in cui il valore restituito dalla funzione <function>dir</function>
     è controllato nell'esempio sotto riportato. Controlliamo esplicitamente
     che il valore restituito sia identico a (uguale a e dello 
     stesso tipo di (fare riferimento a <link linkend="language.operators.comparison">
     Comparison Operators</link> per maggiori informazioni) &false; 
     altrimenti, ogni risultato il cui nome non venga valutato &false; farà 
     interrompere il ciclo.
     <example>
      <title>esempio <function>dir</function></title>
      <programlisting role="php">
<![CDATA[
$d = dir("/etc");
echo "Handle: ".$d->handle."<br>\n";
echo "Path: ".$d->path."<br>\n";
while ($entry = $d->read()) {
    echo $entry."<br>\n";
}
$d->close();
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      L'ordine nel quale vengono restituiti i dati dal metodo read è dipendente
      dal sistema usato.
     </para>
    </note>
    <note>
     <para>
      Questo definisce la classe interna
      <classname>Directory</classname>, ciò significa che non sarà possibile
      definire una nuova classe con lo stesso nome. Per una lista completa
      delle classi predefinite presenti in PHP, fare riferimento a <link
      linkend="reserved.classes">Predefined Classes</link>.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.closedir">
   <refnamediv>
    <refname>closedir</refname>
    <refpurpose>chiude l'handle della directory</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>void</type><methodname>closedir</methodname>
      <methodparam><type>resource</type><parameter>dir_handle</parameter></methodparam>
     </methodsynopsis>
    <para>
     Chiude il flusso directory indicato da
     <parameter>dir_handle</parameter>. Il flusso deve essere stato aperto in 
     precedenza da <function>opendir</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.getcwd">
   <refnamediv>
    <refname>getcwd</refname>
    <refpurpose>restituisce la directory di lavoro in uso</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>string</type><methodname>getcwd</methodname>
      <void/>
     </methodsynopsis>
    <para>
     Restituisce la directory di lavoro in uso al momento.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.opendir">
   <refnamediv>
    <refname>opendir</refname>
    <refpurpose>apre l'handle della directory</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>resource</type><methodname>opendir</methodname>
      <methodparam><type>string</type><parameter>percorso</parameter></methodparam>
     </methodsynopsis>
    <para> 
     Restituisce un handle della directory da usare nelle chiamate alle funzioni
     <function>closedir</function>, <function>readdir</function> e
     <function>rewinddir</function>.
    </para>
    <para>
     Se <parameter>percorso</parameter> non &egrave; una directory valida o la
     directory non pu&ograve; essere aperta a causa di restrizioni sui permessi di accesso o
     a causa di errori del filesystem, <function>opendir</function> restituisce &false; e
     genera un errore PHP. Si pu&ograve; sopprimere l'output dell'errore di
     <function>opendir</function> anteponendo `@' davanti al nome della
     funzione.
    </para>
    <para>
     <example>
      <title>esempio <function>opendir</function></title>
      <programlisting role="php">
<![CDATA[
<?php

if ($dir = @opendir("/tmp")) {
  while (($file = readdir($dir)) !== false) { 
    echo "$file\n";
  }  
  closedir($dir);
}

?>
]]>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readdir">
   <refnamediv>
    <refname>readdir</refname>
    <refpurpose>legge una voce dall'handle della directory</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>string</type><methodname>readdir</methodname>
      <methodparam><type>resource</type><parameter>dir_handle</parameter></methodparam>
     </methodsynopsis>
    <para>
     Restituisce il nomefile del file successivo della directory. I nomi
     dei file vengono restituiti secondo l'ordine in cui sono memorizzati
     nel filesystem.
    </para>
    <para>
     Si faccia caso al modo in cui il valore restituito da <function>readdir</function>
     viene controllato negli esempi successivi. Viene controllato esplicitamente
     che il valore restituito sia identico a (uguale a e dello
     stesso tipo di (vedere <link
     linkend="language.operators.comparison">Comparison
     Operators</link> per maggiori informazioni) &false; altrimenti avverrebbe che
     ogni nome di directory il cui nome fosse valutato &false; interromperebbe il
     loop.
    </para>
    <para>
     <example>
      <title>Elenca tutti i file presenti in una directory</title>
      <programlisting role="php">
<![CDATA[
// Nota che l'operatore !== non è esistito fino alla versione 4.0.0-RC2
<?php
$handle=opendir('/percorso/ai/file');
echo "Handle della directory: $handle\n";
echo "File:\n";

/* Questa è la maniera corretta di eseguire un loop all'interno di una directory. */
while (false !== ($file = readdir($handle))) { 
    echo "$file\n";
}

/* Questa è la maniera SCORRETTA di eseguire un loop all'interno di una directory. */
while ($file = readdir($handle)) { 
    echo "$file\n";
}

closedir($handle); 
?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Nota che <function>readdir</function> restituirà le voci <literal>.</literal> 
     e 
     <literal>..</literal>. Se non si vogliono ottenere queste, si possono semplicemente 
     eliminare:
     <example>
      <title>
       Elenca tutti i file della directory in uso ed elimina <literal>.</literal> 
       e <literal>..</literal>
      </title>
      <programlisting role="php">
<![CDATA[
<?php 
$handle = opendir('.'); 
while (false !== ($file = readdir($handle))) { 
    if ($file != "." && $file != "..") { 
        echo "$file\n"; 
    } 
}
closedir($handle); 
?>
]]>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.rewinddir">
   <refnamediv>
    <refname>rewinddir</refname>
    <refpurpose>riavvolge l'handle della directory</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrizione</title>
     <methodsynopsis>
      <type>void</type><methodname>rewinddir</methodname>
      <methodparam><type>resource</type><parameter>dir_handle</parameter></methodparam>
     </methodsynopsis>
    <para>
     Reimposta il flusso della directory indicato da
     <parameter>dir_handle</parameter> all'inizio della
     directory.
    </para>

   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
